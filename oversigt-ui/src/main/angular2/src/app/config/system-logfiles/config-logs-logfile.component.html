<app-header [title]="'Log Files'" [additional]="filelist"></app-header>

<ng-template #filelist>
  <button *ngIf="selectedValue !== null && content !== null" (click)="downloadLogfile(selectedValue)" nz-button nzType="default"
    style="margin-right: 8px"><i nz-icon type="download"></i></button>
  <button *ngIf="selectedValue !== null && content !== null" (click)="loadLogFileContent(selectedValue)" nz-button
    nzType="default" style="margin-right: 8px"><i nz-icon type="reload"></i></button>
  <nz-select style="min-width: 300px;" [(ngModel)]="selectedValue" (ngModelChange)="loadLogFileContent($event)"
    nzAllowClear nzPlaceHolder="Choose log file" nzShowSearch>
    <nz-option *ngFor="let file of logfiles" nzValue="{{file}}" nzLabel="{{file}}"></nz-option>
  </nz-select>
</ng-template>

<pre *ngIf="selectedValue !== null && content !== null; else noLogFile">{{content}}</pre>

<ng-template #noLogFile>
  <pre>Please choose a log file.</pre>
</ng-template>
